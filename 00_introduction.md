# 00 導入

これは京都大学理学部化学教室 理論化学分科でのB4M1ゼミ向けに作成した資料です。
主に研究室に入ってきたばかりの4回生向けに、量子化学計算の雰囲気を勉強してもらうためのチュートリアルとなっています。
PySCF向けに作成したものは[こちら](https://github.com/YoshioNishimoto/sandbox/wiki)。

## 量子化学計算

まずは量子化学計算で主に行うことを説明しておきます。
おおざっぱに言えば、`量子力学・量子化学的な方法を用いて分子のエネルギー、構造、性質を計算することで、
化学的な現象を再現・予測すること`が目的となります。
この計算のベースとなっているのは、基本的には量子化学の授業で勉強した事項となっています。
Hartree–Fock法[^1]、Full CI (configuration interaction)法、ヒュッケル法あたりは量子化学の授業でも出てきたと思います。
このチュートリアルでは、これら（？）の方法を使って、実際に分子のエネルギーを計算します。

ヒュッケル法でやったとおり、かなり大胆な近似をしているにもかかわらず、エネルギーを計算するためには行列の対角化が必要でした。
このため、Hartree–Fock法やFull CI法の計算の大変さは、ヒュッケル法の比ではありませんので、普通の電卓を使ったとしても手計算で現実的な分子を扱うことは不可能と言っても良いでしょう。
そこで、量子化学計算はコンピュータおよび専用のプログラムを用いて行います。
しかし、量子化学計算を行うプログラムを自分で作成するというのは、理論を勉強するのも大変ですが、勉強した数式をプログラムにするのも大変です。
幸いにも量子化学計算には過去数十年の蓄積があり、プログラムを一から作成する必要性は、現代ではそれほどありません[^2]。

そのような量子化学計算プログラムとして代表的なものは[Gaussian](https://gaussian.com/)、[GAMESS(-US)](https://www.msg.chem.iastate.edu/gamess/)、[ORCA](https://orcaforum.kofo.mpg.de/)あたりが有名でしょう。
このうち、Gaussianは有料ですが、現代では実験化学者でもGaussianを用いて量子化学計算を行い、反応機構の予測に役立てるということは日常的に行われています。
このチュートリアルでは、[OpenMolcas](https://gitlab.com/Molcas/OpenMolcas)というオープンソースの量子化学計算プログラムを用います。

## OpenMolcas

OpenMolcasの説明を少ししておきます。
上に挙げたGaussian等は、かなり汎用性の高いパッケージとなっています。
特にGaussianは有機化学者が使うことを前提としたプログラム設計がされており、マイルドな言い方をすれば誰でも扱うことができるようになっています。

一方、OpenMolcasは多配置計算と多参照摂動理論の計算に特化したプログラムとなっています。
これらの手法は扱う分子がどのような特徴を持っているかを把握する必要があり、またどのような計算をしたいかも把握しておかなければなりません。
このため、より「専門的な」手法を扱うことに特化したプログラムです。

というわけで、OpenMolcasのインストールをしたいのですが、あまり簡単ではありません。
今時のアプリ（？）のように、何回かクリック・タップしてやればインストールできて、インストールすればあとは簡単に実行できるかと言えばそうではありません。
OpenMolcasは自分でソースコードをコンパイルしなければなりませんし、インストールした後はCUI (command user interface)でプログラムを実行します。
そもそも、パソコンを一般的に使っている限りでは、CUIを使う環境がないという場合もあります。
このため、以下のような手順でインストールをしていきます。

- CUI環境の準備
- Gitによるソースコードの取得
- OpenMolcasのコンパイル
- テスト計算

## CUI環境の準備(Windowsの場合)

Windows上でCUI環境を扱うには、とりあえずWindows Subsystem for Linux (WSL)を使うことにしましょう。
これにより、Windows上でLinuxを扱うことができるようになります。
Macintoshの場合は特に何もしなくてもできると思いますが、YoshioNishimotoはMacintoshユーザーではないのでよく分かりません。

まずは

## Gitによるソースコードの取得

このチュートリアルはOpenMolcasのチュートリアルなので、Gitに関する説明は最低限です。
より詳しい説明はいろいろなウェブページにあるので、そちらも参照してください。

プログラミングの経験がある方はご存じだと思いますが、Gitは「プログラムのソースコードなどの変更履歴を記録・追跡するための分散型バージョン管理システム」（Wikipediaより）です。
プログラムは往々にしてバグを混入させてしまうものです。
しかも、複数人でプログラムを作成している場合は、適切な管理をしないと誰がどのタイミングでバグを混入させたのか分からなくなってしまいます。
そこで、Gitを用いてプログラムを管理させてやれば、バグが混入したときに簡単（？）にどのタイミングでバグが混入したのかを把握することができますし、過去のある時点へのコードに巻き戻ったりすることもできるというわけです。

このチュートリアルは[GitHub](https://github.co.jp/)上で作成しています。
GitHubというのは、Gitを用いたソフトウェア開発のプラットフォーム（環境・ウェブサイト・アプリと考えれば良い）のことです。
他にも[GitLab](https://about.gitlab.com/ja-jp/)が有名でしょう。
自分のレポジトリを作成するにはアカウントが必要ですが、既存のレポジトリをのぞいたりコードをダウンロードするにはアカウントは必要ありません。



## OpenMolcasのコンパイル

## テスト計算





## 演習問題

- ヒュッケル法でどのような近似をしていたか教えてください。
- 

[^1]: 人名を結ぶのはエンダッシュ（–）が良いとされています。ハイフン（-）ではない。「2013」をF5で変換すると良いでしょう。
[^2]: 計算機の性能を限界まで発揮しようという場合であったり、計算手法に特化したプログラムが必要であったりという場合は一から作成する必要があります。プログラムが汎用的になるほど余計な処理が多くなりますので。
